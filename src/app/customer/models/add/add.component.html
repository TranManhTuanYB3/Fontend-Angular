<p-dialog
  header="Add Customer"
  [(visible)]="displayModal"
  [modal]="true"
  [closable]="false"
  [style]="{ width: '50vw' }"
>
  <form [formGroup]="customerForm" (ngSubmit)="onSubmit()">
    <div class="p-fluid grid">
      <div class="field col-6">
        <label for="name" class="required">Name</label>
        <input id="name" type="text" pInputText formControlName="name" />
        <small *ngIf="customerForm.get('name')?.invalid && customerForm.get('name')?.touched" class="p-error">
          {{ getErrorMessage('name') }}
        </small>
      </div>

      <div class="field col-6">
        <label for="phone" class="required">Phone</label>
        <input id="phone" type="text" pInputText formControlName="phone" />
        <small *ngIf="customerForm.get('phone')?.invalid && customerForm.get('phone')?.touched" class="p-error">
          {{ getErrorMessage('phone') }}
        </small>
      </div>

      <div class="field col-6">
        <label for="address">Address</label>
        <input id="address" type="text" pInputText formControlName="address" />
        <small *ngIf="customerForm.get('address')?.invalid && customerForm.get('address')?.touched" class="p-error">
          {{ getErrorMessage('address') }}
        </small>
      </div>

      <div class="field col-6" style="position: relative;">
        <label for="employee">Employee</label>
        <p-progressSpinner *ngIf="loading" class="overlay"></p-progressSpinner>
        <p-dropdown
          *ngIf="!loading"
          [options]="employees"
          optionLabel="name"
          placeholder="Select Employee"
          formControlName="employee"
          autoOptionFocus="false"
          [showClear]="true"
          appendTo="body"
        ></p-dropdown>
      </div>
    </div>

    <div class="p-dialog-footer">
      <button
        pButton
        [outlined]="true"
        type="button"
        label="Cancel"
        icon="pi pi-times"
        (click)="onCancel()"
      ></button>
      <button
        pButton
        type="submit"
        label="Save"
        icon="pi pi-check"
        [disabled]="customerForm.invalid"
      ></button>
    </div>
  </form>
</p-dialog>
